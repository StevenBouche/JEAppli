(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1248:function(e,t,a){"use strict";a.r(t);var n=a(888),l=a.n(n),i=a(889),s=a(227),r=a(228),c=a(230),d=a(229),o=a(231),u=a(3),m=a.n(u),h=a(86),p=a(896),v=a(968),E=a(1251),f=a(1240),k=a(1241),b=a(939),y=a(940),S=a(1015),g=a(1236),C=a(1016),D=a(1242),w=a(1237),x=a(943),O=a(1243),j=a(915),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={modal:!1,callback:void 0,name:"",description:""},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.modal,t=this.props.callback;e!==this.state.modal&&(!1===e&&this.clearStateForm(),this.setState({modal:e})),t!==this.state.callback&&this.setState({callback:t})}},{key:"handleName",value:function(e){this.setState({name:e})}},{key:"handleDescription",value:function(e){this.setState({description:e})}},{key:"handleAction",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.createTeam(this.state.name,this.state.description);case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.handleClose();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clearStateForm",value:function(){this.handleName(""),this.handleDescription("")}},{key:"handleClose",value:function(){this.clearStateForm(),this.state.callback()}},{key:"render",value:function(){var e=this;return m.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.state.callback},m.a.createElement(f.a,{toggle:this.state.callback},"Teams modal"),m.a.createElement(k.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(S.a,null,m.a.createElement(g.a,null,m.a.createElement("strong",null,"Team"),m.a.createElement("small",null," Form")),m.a.createElement(C.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(D.a,null,m.a.createElement(w.a,{htmlFor:"name"},"Name"),m.a.createElement(x.a,{onChange:function(t){return e.handleName(t.target.value)},type:"text",id:"name",placeholder:"Enter group name",required:!0})))),m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(D.a,null,m.a.createElement(w.a,{htmlFor:"description"},"Description"),m.a.createElement(x.a,{onChange:function(t){return e.handleDescription(t.target.value)},type:"text",id:"description",placeholder:"Enter group description",required:!0}))))))))),m.a.createElement(O.a,null,m.a.createElement(j.a,{color:"primary",onClick:this.handleAction.bind(this)},"Create team")," ",m.a.createElement(j.a,{color:"secondary",onClick:this.state.callback},"Cancel")))}}]),t}(u.Component),F=a(899),A=a.n(F),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={modal:!1,callback:void 0,teamData:{},name:"",description:""},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props.modal,a=this.props.callback,n=this.props.teamData;t!==this.state.modal&&(!1===t&&this.clearStateForm(),this.setState({modal:t})),a!==this.state.callback&&this.setState({callback:a}),void 0===n||A()(this.state.teamData,n)||this.setState({teamData:n},function(){e.handleName(e.state.teamData.nameitem),e.handleDescription(e.state.teamData.descitem)})}},{key:"handleName",value:function(e){this.setState({name:e})}},{key:"handleDescription",value:function(e){this.setState({description:e})}},{key:"handleAction",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.updateTeam(this.state.teamData.key,this.state.name,this.state.description);case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,this.handleClose();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clearStateForm",value:function(){this.handleName(this.state.teamData.nameitem),this.handleDescription(this.state.teamData.descitem)}},{key:"handleClose",value:function(){this.clearStateForm(),this.state.callback()}},{key:"render",value:function(){var e=this;return m.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.state.callback},m.a.createElement(f.a,{toggle:this.state.callback},"Teams modal"),m.a.createElement(k.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(S.a,null,m.a.createElement(g.a,null,m.a.createElement("strong",null,"Team"),m.a.createElement("small",null," Form")),m.a.createElement(C.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(D.a,null,m.a.createElement(w.a,{htmlFor:"name"},"Name"),m.a.createElement(x.a,{onChange:function(t){return e.handleName(t.target.value)},value:this.state.name,type:"text",id:"name",placeholder:"Enter group name",required:!0})))),m.a.createElement(b.a,null,m.a.createElement(y.a,{xs:"12"},m.a.createElement(D.a,null,m.a.createElement(w.a,{htmlFor:"description"},"Description"),m.a.createElement(x.a,{onChange:function(t){return e.handleDescription(t.target.value)},value:this.state.description,type:"text",id:"description",placeholder:"Enter group description",required:!0}))))))))),m.a.createElement(O.a,null,m.a.createElement(j.a,{color:"primary",onClick:this.handleAction.bind(this)},"Edit team")," ",m.a.createElement(j.a,{color:"secondary",onClick:this.state.callback},"Cancel")))}}]),t}(u.Component),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],modal:!1,modalEdit:!1,teamData:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"getData",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getTeams();case 2:t=e.sent,A()(this.state.data,t)||this.setState({data:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:setInterval(function(){t.getData()},3e5);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.modal,this.setState({modal:!t}),!0!==t){e.next=5;break}return e.next=5,this.getData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleEdit",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1,t=this.state.modalEdit,this.setState({modalEdit:!t}),!0!==t){e.next=6;break}return e.next=6,this.getData();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateTeamData",value:function(e){this.setState({teamData:e})}},{key:"render",value:function(){for(var e=[],t=this.state.data,a=0;a<t.length;a++){var n="/team/"+t[a]._id;e.push({key:t[a]._id,nameitem:t[a].name,descitem:t[a].description,redirectPath:n,userrole:t[a].userrole})}return m.a.createElement("div",{className:"animated fadeIn mt-3"},m.a.createElement(S.a,null,m.a.createElement(g.a,null,m.a.createElement("strong",null,m.a.createElement("h2",null,"Your team"))),m.a.createElement(C.a,null,m.a.createElement(v.a,{callbackDataSelect:this.updateTeamData.bind(this),dataElement:e,callback:this.toggle.bind(this),callbackEdit:this.toggleEdit.bind(this)}," "),m.a.createElement(N,{modal:this.state.modal,callback:this.toggle.bind(this)}),m.a.createElement(U,{modal:this.state.modalEdit,callback:this.toggleEdit.bind(this),teamData:this.state.teamData}))))}}]),t}(u.Component);t.default=Object(h.o)(B)},968:function(e,t,a){"use strict";var n=a(227),l=a(228),i=a(230),s=a(229),r=a(231),c=a(3),d=a.n(c),o=a(86),u=a(940),m=a(1015),h=a(1236),p=a(939),v=a(1016),E=a(1237),f=a(899),k=a.n(f),b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={dataCard:{},idCard:void 0,classCard:"",item:void 0},a.changeElementCard=function(e){a.setState({classCard:a.props.classCard})},a.setRedirect=function(){a.props.history.push(a.redirectPath)},a.index=e.index,a.callback=e.callback,a.state.dataCard=e.dataCard,a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"getId",value:function(){return this.state.dataCard.key}},{key:"updateDataCard",value:function(){this.setState({dataCard:this.props.dataCard})}}]),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.classCard;this.state.classCard!==e&&this.changeElementCard(e);var t=this.props.dataCard;k()(this.state.dataCard,t)||this.setState({dataCard:this.props.dataCard})}},{key:"handleClickCard",value:function(){}},{key:"render",value:function(){var e=this;return d.a.createElement(u.a,{xs:"12",sm:"6",md:"4",lg:"3"},d.a.createElement(m.a,{onClick:function(){return e.callback(e.index,e.getId())},className:this.state.classCard},d.a.createElement(h.a,null,d.a.createElement(p.a,null,d.a.createElement(u.a,{xs:"12",className:"d-flex align-items-center"},d.a.createElement("strong",null,this.state.dataCard.nameitem)))),d.a.createElement(v.a,null,d.a.createElement(p.a,null,d.a.createElement(u.a,{xs:"12"},d.a.createElement(E.a,null,d.a.createElement("strong",null,"Description")),d.a.createElement("p",null,this.state.dataCard.descitem)),d.a.createElement(u.a,{xs:"12"},d.a.createElement(E.a,null,d.a.createElement("strong",null,"Role")),d.a.createElement("p",null,this.state.dataCard.userrole))))))}}]),t}(c.Component),y=Object(o.o)(b),S=a(1238),g=a(1239),C=a(915),D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={teamid:void 0,teamUserRole:void 0,indexSelect:void 0,idSelect:void 0,dataSelect:{},dataElement:[],callbackModalAdd:void 0,callbackModalEdit:void 0,stateButton:{view:!0,edit:!0,add:!0,delete:!0},modal:!1,classCard:"",elements:{callback:void 0,items:[]}},a.items=[],a.itemsRef=[],a.state.modal=!1,a.state.callbackModalAdd=e.callback,a.callbackDataSelect=e.callbackDataSelect,a.callbackEdit=e.callbackEdit,a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"notifyIdSelect",value:function(e,t){var a=this;this.state.indexSelect===e&&this.state.idSelect===t?this.setState({indexSelect:void 0,idSelect:void 0},function(){a.updateDataselect()}):this.setState({indexSelect:e,idSelect:t},function(){a.updateDataselect()})}},{key:"updateDataselect",value:function(){var e=this,t=this.state.dataElement[this.state.indexSelect];k()(t,this.state.dataSelect)||this.setState({dataSelect:t},function(){e.stateOfButton(),e.callbackDataSelect(e.state.dataSelect)})}},{key:"componentDidMount",value:function(){this.setState({stateButton:{view:!0,edit:!0,add:!1,delete:!0}})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.dataElement;k()(this.state.dataElement,t)||this.setState({dataElement:this.props.dataElement},function(){e.updateDataselect()});var a=this.props.userrole;this.state.teamUserRole!==a&&this.setState({teamUserRole:a},this.stateOfButton())}},{key:"handleView",value:function(){void 0!=this.state.dataSelect&&this.props.history.push(this.state.dataSelect.redirectPath)}},{key:"stateOfButton",value:function(){var e={view:!0,edit:!0,add:!0,delete:!0};e=void 0!==this.state.teamUserRole?"admin"===this.state.teamUserRole?{view:!1,edit:!1,add:!1,delete:!1}:"moderator"===this.state.teamUserRole?{view:!1,edit:!1,add:!1,delete:!0}:void 0!==this.state.dataSelect&&"viewer"===this.state.teamUserRole?"admin"===this.state.dataSelect.userrole?{view:!1,edit:!1,add:!0,delete:!1}:"moderator"===this.state.dataSelect.userrole?{view:!1,edit:!1,add:!0,delete:!0}:"viewer"===this.state.dataSelect.userrole?{view:!1,edit:!0,add:!0,delete:!0}:{view:!0,edit:!0,add:!0,delete:!0}:{view:!0,edit:!0,add:!0,delete:!0}:void 0!==this.state.dataSelect?"admin"===this.state.dataSelect.userrole?{view:!1,edit:!1,add:!1,delete:!1}:"moderator"===this.state.dataSelect.userrole?{view:!1,edit:!1,add:!1,delete:!0}:"viewer"===this.state.dataSelect.userrole?{view:!1,edit:!0,add:!1,delete:!0}:{view:!0,edit:!0,add:!1,delete:!0}:{view:!0,edit:!0,add:!1,delete:!0},this.setState({stateButton:e})}},{key:"render",value:function(){var e=this.state.dataElement,t=[];if(void 0!==e)for(var a=0;a<e.length;a++)a===this.state.indexSelect?t[a]=d.a.createElement(y,{dataCard:e[a],callback:this.notifyIdSelect.bind(this),classCard:"card-accent-primary",key:a,index:a}):t[a]=d.a.createElement(y,{dataCard:e[a],callback:this.notifyIdSelect.bind(this),classCard:"",key:a,index:a});return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(S.a,{className:"mb-3"},d.a.createElement(g.a,{className:"mr-2"},d.a.createElement(C.a,{disabled:this.state.stateButton.view,color:"primary",onClick:this.handleView.bind(this)},"View"),d.a.createElement(C.a,{disabled:this.state.stateButton.add,color:"primary",onClick:this.state.callbackModalAdd},"Add"),d.a.createElement(C.a,{disabled:this.state.stateButton.edit,color:"primary",onClick:this.callbackEdit},"Edit"),d.a.createElement(C.a,{color:"primary",disabled:this.state.stateButton.delete},"Delete"))),d.a.createElement(p.a,null,t))}}]),t}(c.Component);t.a=Object(o.o)(D)}}]);
//# sourceMappingURL=24.0b5fa9c9.chunk.js.map