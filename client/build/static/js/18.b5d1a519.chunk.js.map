{"version":3,"sources":["views/Pages/Register/Register.js","service/utils/cryptoUtils.js","service/request/index.js","service/key.js","service/auth/index.js"],"names":["Register","state","values","name","email","password","passwordrepeat","touched","errors","isValid","isLoading","submitError","showSignInError","handleFieldChange","field","value","newState","Object","_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_this","setState","validateForm","handleSignUp","_callee","history","_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","props","AuthManager","register","push","t0","serviceError","stop","_this2","this","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","className","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","md","lg","xl","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","addonType","reactstrap__WEBPACK_IMPORTED_MODULE_17__","reactstrap__WEBPACK_IMPORTED_MODULE_18__","type","onChange","event","target","placeholder","autoComplete","reactstrap__WEBPACK_IMPORTED_MODULE_19__","onClick","color","block","Component","withRouter","Buffer","crypto__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","crypto__WEBPACK_IMPORTED_MODULE_0___default","n","_key__WEBPACK_IMPORTED_MODULE_1__","cryptoUtils","key","text","iv","crypto","randomBytes","salt","keym","pbkdf2Sync","cipher","createCipheriv","encrypted","update","concat","final","toString","textParts","split","from","shift","encryptedText","join","decipher","createDecipheriv","decrypted","baseURL","RequestManager","getHeader","Accept","Content-Type","Authorization","encToken","Cookies","get","crypt","decrypt","getCookiesToken","_ref","_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","mark","ressource","object","request","res","method","headers","fetch","sent","ok","Error","json","abrupt","_x","_x2","apply","arguments","post","_ref2","_callee2","_context2","body","JSON","stringify","_x3","_x4","put","_ref3","_callee3","_context3","_x5","_x6","delete","axios","then","catch","error","setCookiesToken","token","encrypt","set","path","isLogin","login","user","logout","remove","username"],"mappings":"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","file":"static/js/18.b5d1a519.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Card, CardBody, /*CardFooter,*/ Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport {withRouter } from 'react-router-dom';\nimport AuthManager from '../../../service/auth'\n\nclass Register extends Component {\n\n  state = {\n    values: {\n      name: '',\n      email: '',\n      password: '',\n      passwordrepeat: ''\n    },\n    touched: {\n      name: false,\n      email: false,\n      password: false,\n      passwordrepeat: false\n    },\n    errors: {\n      name: null,\n      email: null,\n      password: null,\n      passwordrepeat: null\n    },\n    isValid: false,\n    isLoading: false,\n    submitError: null,\n    showSignInError: null\n  };\n\n  handleFieldChange = (field, value) => {\n    const newState = {...this.state};\n\n    newState.submitError = null;\n    newState.touched[field] = true;\n    newState.values[field] = value;\n\n    this.setState(newState, this.validateForm);\n  };\n\n  handleSignUp = async () => {\n    try {\n      const { history } = this.props;\n      const { values } = this.state;\n\n     // this.setState({ isLoading: true });\n\n //     await AuthManager.register('hello', values.email, values.password);\n   \n      await AuthManager.register(values.name,values.email,values.password);\n\n      history.push('/');\n\n    } catch (error) {\n\n      this.setState({\n        isLoading: false,\n        serviceError: error\n      });\n    }\n  };\n\n  render() {\n/*\n    const {\n      values,\n      touched,\n      errors\n      isValid,\n      submitError,\n      isLoading\n    } = this.state;\n\n  const showFirstNameError = touched.firstName && errors.firstName ? errors.firstName[0] : false;\n  const showLastNameError = touched.lastName && errors.lastName ? errors.lastName[0] : false;\n  const showEmailError = touched.email && errors.email ? errors.email[0] : false;\n  const showPasswordError = touched.password && errors.password ? errors.password[0] : false;\n  const showPolicyError = touched.policy && errors.policy ? errors.policy[0] : false;\n  */\n\n    return (\n      <div className=\"app flex-row align-items-center\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md=\"9\" lg=\"7\" xl=\"6\">\n              <Card className=\"mx-4\">\n                <CardBody className=\"p-4\">\n                  <Form>\n                    <h1>Register</h1>\n                    <p className=\"text-muted\">Create your account</p>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-user\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n\n\n\n                      <Input type=\"text\" onChange={event => this.handleFieldChange('name', event.target.value)}placeholder=\"Username\" autoComplete=\"username\" />\n\n\n\n                    </InputGroup>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>@</InputGroupText>\n                      </InputGroupAddon>\n\n\n\n                      <Input onChange={event => this.handleFieldChange('email', event.target.value)} type=\"text\" placeholder=\"Email\" autoComplete=\"email\" />\n                     \n\n                    </InputGroup>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-lock\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n\n\n\n\n                      <Input onChange={event => this.handleFieldChange('password', event.target.value)} type=\"password\" placeholder=\"Password\" autoComplete=\"new-password\" />\n\n\n\n\n                    </InputGroup>\n                    \n                    <Button onClick={this.handleSignUp} color=\"success\" block>Create Account</Button>\n\n\n\n\n                  </Form>\n                </CardBody>              \n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Register);\n","import crypto from 'crypto';\nimport key from '../key'\n\nvar cryptoUtils = {};\n\ncryptoUtils.encrypt = (key, text) => {\n    let iv = crypto.randomBytes(16);\n    const salt = crypto.randomBytes(64);\n    const keym = crypto.pbkdf2Sync(key, salt, 2145, 32, 'sha512');\n    let cipher = crypto.createCipheriv('aes-256-cbc', keym, iv);\n    let encrypted = cipher.update(text);\n    encrypted = Buffer.concat([encrypted, cipher.final()]);\n    return iv.toString('hex') + ':' + salt.toString('hex') + \":\" + encrypted.toString('hex') ;\n}\n\ncryptoUtils.decrypt = (key, text) => {\n    var text2 = text.toString();\n    let textParts = text2.split(':');\n    let iv = Buffer.from(textParts.shift(), 'hex');\n    let salt = Buffer.from(textParts.shift(), 'hex');\n    const keym = crypto.pbkdf2Sync(key, salt, 2145, 32, 'sha512');\n    let encryptedText = Buffer.from(textParts.join(':'), 'hex');\n    let decipher = crypto.createDecipheriv('aes-256-cbc', keym, iv);\n    let decrypted = decipher.update(encryptedText);\n    decrypted = Buffer.concat([decrypted, decipher.final()]);\n    return decrypted.toString();\n}\n\ncryptoUtils.cryptWithKey = (text) => {\n    let iv = crypto.randomBytes(16);\n    const salt = crypto.randomBytes(64);\n    const keym = crypto.pbkdf2Sync(key, salt, 2145, 32, 'sha512');\n    let cipher = crypto.createCipheriv('aes-256-cbc', keym, iv);\n    let encrypted = cipher.update(text);\n    encrypted = Buffer.concat([encrypted, cipher.final()]);\n    return iv.toString('hex') + ':' + salt.toString('hex') + \":\" + encrypted.toString('hex') ;\n}\n\ncryptoUtils.decryptWithKey = (text) => {\n    var text2 = text.toString();\n    let textParts = text2.split(':');\n    let iv = Buffer.from(textParts.shift(), 'hex');\n    let salt = Buffer.from(textParts.shift(), 'hex');\n    const keym = crypto.pbkdf2Sync(key, salt, 2145, 32, 'sha512');\n    let encryptedText = Buffer.from(textParts.join(':'), 'hex');\n    let decipher = crypto.createDecipheriv('aes-256-cbc', keym, iv);\n    let decrypted = decipher.update(encryptedText);\n    decrypted = Buffer.concat([decrypted, decipher.final()]);\n    return decrypted.toString();\n}\n\nexport default cryptoUtils;","import axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport crypt from '../utils/cryptoUtils';\n//todo link api\nlet baseURL = 'https://appJe.stevenbouche.com:8080/api';\nconst RequestManager = {};\n\nfunction getKey() {\n  //TODO\n  return '5v8y/B?E(H+MbQeThVmYq3t6w9z$C&F)';\n}\n\nfunction getCookiesToken(){\n  var cookies = new Cookies();\n  var encToken = cookies.get('jwt_token');\n  if(!encToken) return undefined;\n  return crypt.decrypt(getKey(),encToken);\n}\n\nfunction getHeader(){\n  var token = getCookiesToken();\n    return {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      \"Authorization\": \"Bearer \"+token,\n    };\n}\n\nRequestManager.get =  async (ressource,object) => {\n    var request = {};\n    request.method = 'GET';\n    request.headers = getHeader();\n    //request.body = JSON.stringify(object);\n    let res = await fetch(baseURL+''+ressource+\"\"+object,request);\n    if(!res.ok)throw new Error('request error'+res);\n    else return await res.json();\n};\n\nRequestManager.post = async (ressource,object) => {\n  var request = {};\n  request.method = 'POST';\n  request.headers = getHeader();\n  request.body = JSON.stringify(object);\n  let res = await fetch(baseURL+''+ressource, request);\n  if(!res.ok) throw new Error('request error'+res);\n  else return res;\n};\n\nRequestManager.put = async (ressource,object) => {\n  var request = {};\n  request.method = 'PUT';\n  request.headers = getHeader();\n  request.body = JSON.stringify(object);\n  let res = await fetch(baseURL+''+ressource, request);\n  if(!res.ok) throw new Error('request error'+res);\n  else return res;\n};\n\nRequestManager.delete = (ressource,object) => {\n  axios.delete(baseURL+''+ressource, object)\n    .then(res => { return res; })\n    .catch((error) => { return error; })\n};\n\nexport default RequestManager;\n\n","var key = '5v8y/B?E(H+MbQeThVmYq3t6w9z$C&F)';\n\nexport default key;","import request from '../request';\nimport Cookies from 'universal-cookie';\nimport crypt from '../utils/cryptoUtils';\n\nconst AuthManager = {};\n\nfunction getKey() {\n  //TODO\n  return '5v8y/B?E(H+MbQeThVmYq3t6w9z$C&F)';\n}\n\nfunction setCookiesToken(token){\n  var encToken = crypt.encrypt(getKey(), token);\n  var cookies = new Cookies();\n  cookies.set('jwt_token', encToken, {path: '/'});\n}\n\nfunction getCookiesToken(){\n  var cookies = new Cookies();\n  var encToken = cookies.get('jwt_token');\n  if(!encToken) return undefined;\n  return crypt.decrypt(getKey(),encToken);\n}\n\nAuthManager.isLogin = () => {\n  var token = getCookiesToken();\n  if(!token) return false;\n  else return true;\n};\n\nAuthManager.login = async (email, password ) => {\n  var user = {\n    'email' : email,\n    'password' : password\n  };\n  var res = await request.post('/user/login', user);\n  res = await res.json();\n  if(!res.token) throw new Error('Token null');\n  setCookiesToken(res.token);\n};\n\nAuthManager.logout = async () => {\n  var res = await request.post('/user/logout',{});\n  if(res.ok) {\n    var cookies = new Cookies();\n    cookies.remove('jwt_token', {path: '/'});\n  }\n};\n\nAuthManager.register = async (username, email, password) => {\n\n  var user = {\n    'name' : username,\n    'email' : email,\n    'password' : password\n  };\n\n  var res = await request.post('/user', user);\n  res = await res.json();\n  \n  if(!res.token) throw new Error('Token null');\n  setCookiesToken(res.token);\n};\n\nexport default AuthManager;\n"],"sourceRoot":""}